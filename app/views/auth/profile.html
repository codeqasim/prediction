<!-- Enhanced Profile View -->
<div class="min-h-screen bg-gradient-to-b from-black to-slate-900 pt-16">
    <!-- Enhanced Animated Background -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none">
        <!-- Floating Orbs -->
        <div class="absolute w-64 h-64 rounded-full opacity-10"
             style="background: radial-gradient(circle, rgba(139, 69, 255, 0.15) 0%, transparent 70%); top: 10%; left: 10%; filter: blur(40px); animation: float-slow 18s ease-in-out infinite;"></div>
        <div class="absolute w-48 h-48 rounded-full opacity-8"
             style="background: radial-gradient(circle, rgba(168, 85, 247, 0.12) 0%, transparent 70%); top: 60%; right: 15%; filter: blur(40px); animation: float-medium 14s ease-in-out infinite 3s;"></div>
        <div class="absolute w-56 h-56 rounded-full opacity-6"
             style="background: radial-gradient(circle, rgba(147, 51, 234, 0.1) 0%, transparent 70%); bottom: 25%; left: 65%; filter: blur(40px); animation: float-fast 11s ease-in-out infinite 6s;"></div>

        <!-- Animated Particles -->
        <div class="particle-field">
            <div class="w-0.5 h-0.5 bg-purple-400 rounded-full absolute opacity-50" style="left: 8%; animation: float-up-fast 12s linear infinite 0s;"></div>
            <div class="w-1 h-1 bg-violet-400 absolute opacity-40 rotate-45" style="left: 22%; animation: float-up-medium 16s linear infinite 2s;"></div>
            <div class="w-0.5 h-0.5 bg-purple-300 rounded-full absolute opacity-60" style="left: 36%; animation: float-up-slow 20s linear infinite 4s;"></div>
            <div class="w-1 h-1 bg-purple-500 absolute opacity-45 rotate-45" style="left: 64%; animation: float-up-wave 18s linear infinite 8s;"></div>
            <div class="w-0.5 h-0.5 bg-violet-500 rounded-full absolute opacity-55" style="left: 78%; animation: float-up-zigzag 14s linear infinite 10s;"></div>
            <div class="w-0.5 h-0.5 bg-purple-600 rounded-full absolute opacity-40" style="left: 92%; animation: float-up-fast 15s linear infinite 12s;"></div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="relative z-10 max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Loading State -->
        <div ng-if="ctrl.isLoading" class="text-center py-12">
            <div class="inline-block animate-spin rounded-full h-12 w-12 border-2 border-purple-500 border-t-transparent mb-4"></div>
            <p class="text-slate-300 text-lg">Loading your profile...</p>
        </div>

        <!-- Profile Content -->
        <div ng-if="!ctrl.isLoading">
            <!-- Enhanced Page Header -->
            <div class="text-center mb-12">
                <div class="inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-purple-500 to-violet-600 rounded-2xl mb-6 shadow-2xl shadow-purple-500/25">
                    <span class="material-icons-outlined text-white text-3xl">person</span>
                </div>
                <h1 class="text-5xl md:text-6xl font-black text-white mb-4">
                    Your <span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-violet-500">Profile</span>
                </h1>
                <p class="text-xl text-slate-300">
                    Manage your account and personalize your prediction experience
                </p>
            </div>

            <!-- Enhanced Messages -->
            <div ng-if="ctrl.successMessage" class="bg-green-500/20 border border-green-500/30 text-green-300 px-6 py-4 rounded-2xl mb-6 flex items-center backdrop-blur-sm">
                <span class="material-icons-outlined mr-3 text-green-400">check_circle</span>
                {{ctrl.successMessage}}
            </div>

            <div ng-if="ctrl.errorMessage" class="bg-red-500/20 border border-red-500/30 text-red-300 px-6 py-4 rounded-2xl mb-6 flex items-center backdrop-blur-sm">
                <span class="material-icons-outlined mr-3 text-red-400">error</span>
                {{ctrl.errorMessage}}
            </div>

            <!-- Profile Overview Card -->
            <div class="bg-white/5 backdrop-blur-lg border border-purple-500/20 rounded-3xl p-8 mb-8">
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 items-center">
                    <!-- Avatar Section -->
                    <div class="text-center">
                        <div class="relative inline-block">
                            <img ng-src="{{ctrl.imagePreview || ctrl.userProfile.avatar_url}}"
                                 alt="Profile Image"
                                 class="w-32 h-32 rounded-full object-cover border-4 border-purple-500/30 shadow-2xl shadow-purple-500/20">

                            <!-- Upload indicator overlay -->
                            <div ng-if="ctrl.isUploadingImage"
                                 class="absolute inset-0 bg-black/70 rounded-full flex items-center justify-center">
                                <div class="animate-spin rounded-full h-8 w-8 border-2 border-purple-400 border-t-transparent"></div>
                            </div>

                            <!-- Online Status -->
                            <div class="absolute bottom-2 right-2 w-6 h-6 bg-green-400 rounded-full border-4 border-white shadow-lg"></div>
                        </div>

                        <!-- Quick Upload Button -->
                        <div class="mt-4">
                            <input type="file"
                                   id="avatar-upload"
                                   accept="image/*"
                                   onchange="angular.element(this).scope().ctrl.onFileSelect(event)"
                                   class="hidden">
                            <label for="avatar-upload"
                                   class="inline-flex items-center px-4 py-2 bg-purple-500/20 hover:bg-purple-500/30 border border-purple-500/30 text-purple-300 rounded-xl font-medium cursor-pointer transition-all duration-300 hover:scale-105">
                                <span class="material-icons-outlined mr-2 text-sm">photo_camera</span>
                                Change Photo
                            </label>
                        </div>
                    </div>

                    <!-- User Info -->
                    <div class="lg:col-span-2">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- User Stats -->
                            <div class="space-y-4">
                                <div>
                                    <h3 class="text-2xl font-bold text-white">
                                        {{ctrl.userProfile.first_name && ctrl.userProfile.last_name ?
                                          (ctrl.userProfile.first_name + ' ' + ctrl.userProfile.last_name) :
                                          (ctrl.userProfile.username || 'User')}}
                                    </h3>
                                    <p class="text-purple-300">@{{ctrl.userProfile.username}}</p>
                                </div>

                                <div class="flex items-center space-x-4">
                                    <div class="flex items-center bg-purple-500/20 border border-purple-500/30 rounded-lg px-3 py-1">
                                        <span class="material-icons-outlined text-purple-400 text-sm mr-2">stars</span>
                                        <span class="text-purple-300 font-semibold text-sm">{{ctrl.userProfile.points || 100}} Points</span>
                                    </div>
                                    <div class="text-sm text-slate-400">
                                        Member since {{ctrl.userProfile.created_at | date:'MMMM yyyy'}}
                                    </div>
                                </div>

                                <p class="text-slate-300 text-sm" ng-if="ctrl.userProfile.bio">
                                    {{ctrl.userProfile.bio || 'No bio available'}}
                                </p>
                            </div>

                            <!-- Quick Stats -->
                            <div class="grid grid-cols-2 gap-4">
                                <div class="bg-white/5 border border-white/10 rounded-xl p-4 text-center">
                                    <div class="text-2xl font-bold text-purple-400">{{ctrl.userProfile.predictions_count || 0}}</div>
                                    <div class="text-xs text-slate-400 uppercase tracking-wider">Predictions</div>
                                </div>
                                <div class="bg-white/5 border border-white/10 rounded-xl p-4 text-center">
                                    <div class="text-2xl font-bold text-purple-400">{{ctrl.userProfile.accuracy || 0}}%</div>
                                    <div class="text-xs text-slate-400 uppercase tracking-wider">Accuracy</div>
                                </div>
                                <div class="bg-white/5 border border-white/10 rounded-xl p-4 text-center">
                                    <div class="text-2xl font-bold text-purple-400">{{ctrl.userProfile.rank || '--'}}</div>
                                    <div class="text-xs text-slate-400 uppercase tracking-wider">Rank</div>
                                </div>
                                <div class="bg-white/5 border border-white/10 rounded-xl p-4 text-center">
                                    <div class="text-2xl font-bold text-purple-400">{{ctrl.userProfile.streak || 0}}</div>
                                    <div class="text-xs text-slate-400 uppercase tracking-wider">Streak</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Enhanced Profile Form -->
            <div class="bg-white/5 backdrop-blur-lg border border-purple-500/20 rounded-3xl p-8 mb-8">
                <div class="flex items-center mb-6">
                    <span class="material-icons-outlined text-purple-400 text-2xl mr-3">edit</span>
                    <h2 class="text-2xl font-bold text-white">Edit Profile</h2>
                </div>

                <form ng-submit="ctrl.saveProfile()" novalidate>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Username -->
                        <div class="md:col-span-2">
                            <label for="username" class="block text-white font-medium mb-2 flex items-center">
                                <span class="material-icons-outlined text-purple-400 text-sm mr-2">alternate_email</span>
                                Username <span class="text-red-400 ml-1">*</span>
                            </label>
                            <input ng-model="ctrl.userProfile.username"
                                   type="text"
                                   id="username"
                                   required
                                   class="w-full px-4 py-3 bg-white/10 border rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300"
                                   ng-class="ctrl.formErrors.username ? 'border-red-500' : 'border-white/20'"
                                   placeholder="Enter your username">
                            <div ng-if="ctrl.formErrors.username" class="text-red-400 text-sm mt-2 flex items-center">
                                <span class="material-icons-outlined text-xs mr-1">error</span>
                                {{ctrl.formErrors.username}}
                            </div>
                        </div>

                        <!-- First Name -->
                        <div>
                            <label for="firstName" class="block text-white font-medium mb-2 flex items-center">
                                <span class="material-icons-outlined text-purple-400 text-sm mr-2">person</span>
                                First Name
                            </label>
                            <input ng-model="ctrl.userProfile.first_name"
                                   type="text"
                                   id="firstName"
                                   class="w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300"
                                   placeholder="Enter your first name">
                        </div>

                        <!-- Last Name -->
                        <div>
                            <label for="lastName" class="block text-white font-medium mb-2 flex items-center">
                                <span class="material-icons-outlined text-purple-400 text-sm mr-2">person</span>
                                Last Name
                            </label>
                            <input ng-model="ctrl.userProfile.last_name"
                                   type="text"
                                   id="lastName"
                                   class="w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300"
                                   placeholder="Enter your last name">
                        </div>

                        <!-- Email -->
                        <div>
                            <label for="email" class="block text-white font-medium mb-2 flex items-center">
                                <span class="material-icons-outlined text-purple-400 text-sm mr-2">email</span>
                                Email <span class="text-red-400 ml-1">*</span>
                            </label>
                            <input ng-model="ctrl.userProfile.email"
                                   type="email"
                                   id="email"
                                   required
                                   class="w-full px-4 py-3 bg-white/10 border rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300"
                                   ng-class="ctrl.formErrors.email ? 'border-red-500' : 'border-white/20'"
                                   placeholder="Enter your email">
                            <div ng-if="ctrl.formErrors.email" class="text-red-400 text-sm mt-2 flex items-center">
                                <span class="material-icons-outlined text-xs mr-1">error</span>
                                {{ctrl.formErrors.email}}
                            </div>
                        </div>

                        <!-- Location -->
                        <div>
                            <label for="location" class="block text-white font-medium mb-2 flex items-center">
                                <span class="material-icons-outlined text-purple-400 text-sm mr-2">location_on</span>
                                Location
                            </label>
                            <input ng-model="ctrl.userProfile.location"
                                   type="text"
                                   id="location"
                                   class="w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300"
                                   placeholder="Enter your location">
                        </div>

                        <!-- Website -->
                        <div class="md:col-span-2">
                            <label for="website" class="block text-white font-medium mb-2 flex items-center">
                                <span class="material-icons-outlined text-purple-400 text-sm mr-2">language</span>
                                Website
                            </label>
                            <input ng-model="ctrl.userProfile.website"
                                   type="url"
                                   id="website"
                                   class="w-full px-4 py-3 bg-white/10 border rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300"
                                   ng-class="ctrl.formErrors.website ? 'border-red-500' : 'border-white/20'"
                                   placeholder="https://example.com">
                            <div ng-if="ctrl.formErrors.website" class="text-red-400 text-sm mt-2 flex items-center">
                                <span class="material-icons-outlined text-xs mr-1">error</span>
                                {{ctrl.formErrors.website}}
                            </div>
                        </div>

                        <!-- Bio -->
                        <div class="md:col-span-2">
                            <label for="bio" class="block text-white font-medium mb-2 flex items-center">
                                <span class="material-icons-outlined text-purple-400 text-sm mr-2">description</span>
                                Bio
                            </label>
                            <textarea ng-model="ctrl.userProfile.bio"
                                      id="bio"
                                      rows="4"
                                      class="w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 resize-none transition-all duration-300"
                                      placeholder="Tell us about yourself and your prediction expertise..."></textarea>
                            <div class="text-xs text-slate-400 mt-1">{{(ctrl.userProfile.bio || '').length}}/500 characters</div>
                        </div>
                    </div>

                    <!-- Image Upload Section (if file selected) -->
                    <div ng-if="ctrl.selectedFile" class="mt-6 p-4 bg-purple-500/10 border border-purple-500/20 rounded-xl">
                        <h3 class="text-white font-medium mb-3 flex items-center">
                            <span class="material-icons-outlined text-purple-400 mr-2">photo_camera</span>
                            Profile Image Update
                        </h3>

                        <div class="flex items-center justify-between">
                            <p class="text-green-400 text-sm flex items-center">
                                <span class="material-icons-outlined mr-2 text-sm">check_circle</span>
                                {{ctrl.selectedFile.name}} selected
                            </p>

                            <div class="flex gap-2">
                                <button type="button"
                                        ng-click="ctrl.uploadProfileImage()"
                                        ng-disabled="ctrl.isUploadingImage"
                                        class="px-4 py-2 bg-green-500/20 hover:bg-green-500/30 border border-green-500/30 text-green-400 rounded-lg font-medium transition-all duration-300 disabled:opacity-50">
                                    <span ng-if="!ctrl.isUploadingImage">Upload</span>
                                    <span ng-if="ctrl.isUploadingImage">Uploading...</span>
                                </button>

                                <button type="button"
                                        ng-click="ctrl.cancelImageUpload()"
                                        ng-disabled="ctrl.isUploadingImage"
                                        class="px-4 py-2 bg-slate-500/20 hover:bg-slate-500/30 border border-slate-500/30 text-slate-400 rounded-lg font-medium transition-all duration-300 disabled:opacity-50">
                                    Cancel
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Save Button -->
                    <div class="mt-8 flex justify-center">
                        <button type="submit"
                                ng-disabled="ctrl.isSaving"
                                class="bg-gradient-to-r from-purple-500 to-violet-600 hover:from-purple-600 hover:to-violet-700 text-white px-8 py-3 rounded-xl font-bold transition-all duration-300 shadow-lg hover:shadow-purple-500/25 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105">
                            <span ng-if="!ctrl.isSaving" class="flex items-center">
                                <span class="material-icons-outlined mr-2">save</span>
                                Save Changes
                            </span>
                            <span ng-if="ctrl.isSaving" class="flex items-center">
                                <div class="animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"></div>
                                Saving...
                            </span>
                        </button>
                    </div>
                </form>
            </div>

            <!-- Enhanced Action Cards -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Quick Actions -->
                <div class="bg-white/5 backdrop-blur-lg border border-purple-500/20 rounded-3xl p-6">
                    <h3 class="text-white font-bold text-lg mb-4 flex items-center">
                        <span class="material-icons-outlined mr-3 text-purple-400 text-2xl">dashboard</span>
                        Quick Actions
                    </h3>
                    <div class="space-y-3">
                        <button ng-click="ctrl.navigateTo('/dashboard')"
                                class="w-full bg-white/10 hover:bg-purple-500/20 text-white px-4 py-3 rounded-xl font-medium transition-all duration-300 flex items-center border border-white/10 hover:border-purple-500/30">
                            <span class="material-icons-outlined mr-3 text-purple-400">dashboard</span>
                            Dashboard
                        </button>
                        <button ng-click="ctrl.navigateTo('/predictions')"
                                class="w-full bg-white/10 hover:bg-purple-500/20 text-white px-4 py-3 rounded-xl font-medium transition-all duration-300 flex items-center border border-white/10 hover:border-purple-500/30">
                            <span class="material-icons-outlined mr-3 text-purple-400">psychology</span>
                            Browse Markets
                        </button>
                        <button ng-click="ctrl.navigateTo('/leaderboard')"
                                class="w-full bg-white/10 hover:bg-purple-500/20 text-white px-4 py-3 rounded-xl font-medium transition-all duration-300 flex items-center border border-white/10 hover:border-purple-500/30">
                            <span class="material-icons-outlined mr-3 text-purple-400">emoji_events</span>
                            Leaderboard
                        </button>
                    </div>
                </div>

                <!-- Preferences -->
                <div class="bg-white/5 backdrop-blur-lg border border-purple-500/20 rounded-3xl p-6">
                    <h3 class="text-white font-bold text-lg mb-4 flex items-center">
                        <span class="material-icons-outlined mr-3 text-purple-400 text-2xl">tune</span>
                        Preferences
                    </h3>
                    <div class="space-y-3">
                        <button ng-click="ctrl.navigateTo('/settings')"
                                class="w-full bg-white/10 hover:bg-purple-500/20 text-white px-4 py-3 rounded-xl font-medium transition-all duration-300 flex items-center border border-white/10 hover:border-purple-500/30">
                            <span class="material-icons-outlined mr-3 text-purple-400">settings</span>
                            Account Settings
                        </button>
                        <button ng-click="ctrl.navigateTo('/notifications')"
                                class="w-full bg-white/10 hover:bg-purple-500/20 text-white px-4 py-3 rounded-xl font-medium transition-all duration-300 flex items-center border border-white/10 hover:border-purple-500/30">
                            <span class="material-icons-outlined mr-3 text-purple-400">notifications</span>
                            Notifications
                        </button>
                        <button ng-click="ctrl.navigateTo('/privacy')"
                                class="w-full bg-white/10 hover:bg-purple-500/20 text-white px-4 py-3 rounded-xl font-medium transition-all duration-300 flex items-center border border-white/10 hover:border-purple-500/30">
                            <span class="material-icons-outlined mr-3 text-purple-400">security</span>
                            Privacy
                        </button>
                    </div>
                </div>

                <!-- Account Management -->
                <div class="bg-white/5 backdrop-blur-lg border border-red-500/20 rounded-3xl p-6">
                    <h3 class="text-white font-bold text-lg mb-4 flex items-center">
                        <span class="material-icons-outlined mr-3 text-red-400 text-2xl">warning</span>
                        Danger Zone
                    </h3>
                    <div class="space-y-3">
                        <button ng-click="ctrl.logout()"
                                class="w-full bg-yellow-500/20 hover:bg-yellow-500/30 border border-yellow-500/30 text-yellow-300 px-4 py-3 rounded-xl font-medium transition-all duration-300 flex items-center">
                            <span class="material-icons-outlined mr-3">logout</span>
                            Sign Out
                        </button>
                        <button ng-click="ctrl.deleteAccount()"
                                class="w-full bg-red-500/20 hover:bg-red-500/30 border border-red-500/30 text-red-300 px-4 py-3 rounded-xl font-medium transition-all duration-300 flex items-center">
                            <span class="material-icons-outlined mr-3">delete_forever</span>
                            Delete Account
                        </button>
                    </div>
                    <p class="text-slate-400 text-xs mt-3 flex items-center">
                        <span class="material-icons-outlined mr-1 text-xs">info</span>
                        Irreversible actions - proceed with caution
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    /* Background Animations */
    @keyframes float-slow {
        0%, 100% { transform: translate(0, 0) scale(1); }
        25% { transform: translate(15px, -10px) scale(1.03); }
        50% { transform: translate(-8px, 8px) scale(0.97); }
        75% { transform: translate(12px, 15px) scale(1.05); }
    }

    @keyframes float-medium {
        0%, 100% { transform: translate(0, 0) scale(1); }
        33% { transform: translate(20px, -15px) scale(1.06); }
        66% { transform: translate(-12px, 12px) scale(0.94); }
    }

    @keyframes float-fast {
        0%, 100% { transform: translate(0, 0) scale(1); }
        50% { transform: translate(25px, -20px) scale(1.1); }
    }

    /* Particle Movements */
    @keyframes float-up-fast {
        0% { transform: translateY(100vh) translateX(0) rotate(0deg); opacity: 0; }
        5% { opacity: 1; }
        95% { opacity: 0.7; }
        100% { transform: translateY(-80px) translateX(25px) rotate(180deg); opacity: 0; }
    }

    @keyframes float-up-medium {
        0% { transform: translateY(100vh) translateX(0) rotate(0deg); opacity: 0; }
        8% { opacity: 1; }
        92% { opacity: 0.6; }
        100% { transform: translateY(-60px) translateX(40px) rotate(270deg); opacity: 0; }
    }

    @keyframes float-up-slow {
        0% { transform: translateY(100vh) translateX(0) rotate(0deg); opacity: 0; }
        12% { opacity: 1; }
        88% { opacity: 0.8; }
        100% { transform: translateY(-40px) translateX(60px) rotate(360deg); opacity: 0; }
    }

    @keyframes float-up-zigzag {
        0% { transform: translateY(100vh) translateX(0); opacity: 0; }
        10% { opacity: 1; transform: translateY(90vh) translateX(15px); }
        30% { transform: translateY(70vh) translateX(-8px); }
        50% { transform: translateY(50vh) translateX(20px); }
        70% { transform: translateY(30vh) translateX(-15px); }
        90% { opacity: 0.7; transform: translateY(10vh) translateX(30px); }
        100% { transform: translateY(-40px) translateX(-20px); opacity: 0; }
    }

    @keyframes float-up-wave {
        0% { transform: translateY(100vh) translateX(0) rotate(0deg); opacity: 0; }
        15% { opacity: 1; transform: translateY(85vh) translateX(12px) rotate(45deg); }
        35% { transform: translateY(65vh) translateX(-18px) rotate(90deg); }
        55% { transform: translateY(45vh) translateX(25px) rotate(135deg); }
        75% { transform: translateY(25vh) translateX(-12px) rotate(180deg); }
        90% { opacity: 0.6; }
        100% { transform: translateY(-50px) translateX(20px) rotate(225deg); opacity: 0; }
    }

    /* Enhanced form styling */
    input:focus, textarea:focus {
        box-shadow: 0 0 0 3px rgba(139, 69, 255, 0.1);
        transform: translateY(-1px);
    }

    /* Avatar hover effects */
    .relative img {
        transition: all 0.3s ease;
    }

    .relative:hover img {
        transform: scale(1.05);
        box-shadow: 0 0 30px rgba(139, 69, 255, 0.5);
    }

    /* Button hover effects */
    button:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(139, 69, 255, 0.3);
    }

    /* Stats card animations */
    .grid.grid-cols-2.gap-4 > div {
        transition: all 0.3s ease;
    }

    .grid.grid-cols-2.gap-4 > div:hover {
        transform: translateY(-3px) scale(1.02);
        box-shadow: 0 10px 30px rgba(139, 69, 255, 0.2);
    }

    /* Enhanced glassmorphism */
    .backdrop-blur-lg {
        backdrop-filter: blur(16px);
    }

    /* Profile card hover effect */
    .bg-white\/5.backdrop-blur-lg:hover {
        background: rgba(255, 255, 255, 0.08);
        border-color: rgba(139, 69, 255, 0.3);
    }

    /* Action card hover effects */
    .space-y-3 button:hover {
        background: rgba(139, 69, 255, 0.2) !important;
        border-color: rgba(139, 69, 255, 0.4) !important;
        transform: translateX(5px) translateY(-2px);
    }

    /* Icon animations */
    .material-icons-outlined {
        transition: transform 0.2s ease;
    }

    button:hover .material-icons-outlined {
        transform: scale(1.1);
    }

    /* Enhanced loading state */
    .animate-spin {
        animation: spin 1s linear infinite;
    }

    @keyframes spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }

    /* Responsive improvements */
    @media (max-width: 768px) {
        .text-5xl.md\\:text-6xl {
            font-size: 2.5rem;
        }

        .grid.lg\\:grid-cols-3 {
            grid-template-columns: 1fr;
            gap: 1.5rem;
        }

        .grid.grid-cols-1.md\\:grid-cols-2 {
            gap: 1rem;
        }

        .p-8 {
            padding: 1.5rem;
        }

        .w-32.h-32 {
            width: 6rem;
            height: 6rem;
        }
    }

    /* Enhanced focus states for accessibility */
    input:focus,
    textarea:focus,
    button:focus {
        outline: 2px solid rgba(139, 69, 255, 0.5);
        outline-offset: 2px;
    }

    /* Smooth transitions */
    * {
        transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* Enhanced error state styling */
    .border-red-500 {
        border-color: #ef4444 !important;
        box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);
    }

    /* Success state styling */
    .bg-green-500\/20 {
        animation: slideInDown 0.3s ease-out;
    }

    /* Error state styling */
    .bg-red-500\/20 {
        animation: slideInDown 0.3s ease-out;
    }

    @keyframes slideInDown {
        0% {
            opacity: 0;
            transform: translateY(-10px);
        }
        100% {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* Online status pulse */
    .bg-green-400 {
        animation: pulse-green 2s infinite;
    }

    @keyframes pulse-green {
        0%, 100% {
            opacity: 1;
        }
        50% {
            opacity: 0.7;
        }
    }

    /* Form section dividers */
    .md\\:col-span-2 {
        position: relative;
    }

    /* Enhanced textarea styling */
    textarea {
        resize: vertical;
        min-height: 100px;
    }

    /* File upload enhancement */
    label[for="avatar-upload"]:hover {
        background: rgba(139, 69, 255, 0.3) !important;
        transform: scale(1.05);
    }

    /* Profile overview card enhancement */
    .bg-white\/5.backdrop-blur-lg.border.border-purple-500\/20 {
        background: linear-gradient(135deg, rgba(255, 255, 255, 0.05) 0%, rgba(139, 69, 255, 0.02) 100%);
    }

    /* Danger zone styling */
    .border-red-500\/20 {
        background: linear-gradient(135deg, rgba(255, 255, 255, 0.05) 0%, rgba(239, 68, 68, 0.02) 100%);
    }

    /* Enhanced button group spacing */
    .space-y-3 > * + * {
        margin-top: 0.75rem;
    }

    /* Character counter styling */
    .text-xs.text-slate-400 {
        transition: color 0.3s ease;
    }

    textarea:focus + .text-xs.text-slate-400 {
        color: rgba(139, 69, 255, 0.7);
    }

    /* Enhanced card borders */
    .rounded-3xl {
        border-radius: 1.5rem;
    }

    .rounded-2xl {
        border-radius: 1rem;
    }

    .rounded-xl {
        border-radius: 0.75rem;
    }

    /* Performance optimizations */
    .backdrop-blur-lg,
    .bg-white\/5,
    .bg-white\/10 {
        will-change: auto;
    }

    /* Print styles */
    @media print {
        .fixed,
        .particle-field,
        button {
            display: none !important;
        }

        .bg-gradient-to-b {
            background: white !important;
            color: black !important;
        }
    }

    /* Dark mode enhancements */
    @media (prefers-color-scheme: dark) {
        .bg-white\/5 {
            background-color: rgba(255, 255, 255, 0.08);
        }

        .border-white\/10 {
            border-color: rgba(255, 255, 255, 0.15);
        }
    }

    /* Reduced motion support */
    @media (prefers-reduced-motion: reduce) {
        *,
        *::before,
        *::after {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
        }
    }

    /* Enhanced hover states */
    .hover\\:scale-105:hover {
        transform: scale(1.05);
    }

    .hover\\:shadow-purple-500\/25:hover {
        box-shadow: 0 25px 50px -12px rgba(139, 69, 255, 0.25);
    }

    /* Form validation styling */
    input:valid {
        border-color: rgba(34, 197, 94, 0.5);
    }

    input:invalid:not(:placeholder-shown) {
        border-color: rgba(239, 68, 68, 0.5);
    }

    /* Enhanced loading overlay */
    .absolute.inset-0.bg-black\/70 {
        backdrop-filter: blur(4px);
    }

    /* Improved spacing system */
    .space-y-4 > * + * {
        margin-top: 1rem;
    }

    .space-y-6 > * + * {
        margin-top: 1.5rem;
    }

    .space-y-8 > * + * {
        margin-top: 2rem;
    }

    /* Enhanced shadow system */
    .shadow-2xl {
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    }

    .shadow-lg {
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    }

    /* Custom scrollbar */
    ::-webkit-scrollbar {
        width: 8px;
    }

    ::-webkit-scrollbar-track {
        background: rgba(0, 0, 0, 0.1);
    }

    ::-webkit-scrollbar-thumb {
        background: rgba(139, 69, 255, 0.5);
        border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
        background: rgba(139, 69, 255, 0.7);
    }
</style>